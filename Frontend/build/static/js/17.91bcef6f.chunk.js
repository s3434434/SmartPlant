(this.webpackJsonpdemeter=this.webpackJsonpdemeter||[]).push([[17],{123:function(e,s,t){"use strict";t.r(s),t.d(s,"default",(function(){return m}));var a=t(4),n=t(1),r=t(2),o=t(46),c=t.n(o),l=t(44),i=t.n(l),d=(t(90),t(0));function m(e){var s=e.logOut,t=e.wideView,o=Object(r.f)().search,l=new URLSearchParams(o).get("token"),m=new URLSearchParams(o).get("email"),w=Object(n.useState)({email:m,token:l,newPassword:"",confirmNewPassword:""}),u=Object(a.a)(w,2),b=u[0],j=u[1],p=Object(n.useState)(!1),h=Object(a.a)(p,2),f=h[0],O=h[1],P=Object(n.useState)("-"),x=Object(a.a)(P,2),N=x[0],v=x[1];Object(n.useEffect)((function(){document.title="Reset password | Demeter - The plant meter",s(),null!==l&&null!==m||(window.location.pathname="/")}),[]);var g=function(e){var s=e.target,t=c.a.cloneDeep(b);t[s.name]=s.value,j(t)};return Object(d.jsxs)("section",{children:[Object(d.jsx)("h1",{className:"gold text-center",children:"Reset password"}),Object(d.jsxs)("form",{className:t?"w-25 m-auto mt-4":"m-auto mt-4 px-2",onSubmit:function(e){e.preventDefault(),v("Please wait..."),O(!0),b.newPassword!==b.confirmNewPassword?v("Passwords do not match."):i.a.post("https://smart-plant.azurewebsites.net/api/Account/Password/Reset",b).then((function(e){window.location.pathname="/password-reset-successful"})).catch((function(e){var s=e.response.data.messages,t="Server error. Please try again later.";void 0!==s.Passwords?t=s.Passwords[0]:void 0!==s.ConfirmNewPassword&&(t=s.ConfirmNewPassword[0]),v(t)}))},children:[Object(d.jsx)("label",{className:"form-label gold",htmlFor:"newPassword",children:"New password"}),Object(d.jsx)("input",{className:"form-control",name:"newPassword",type:"password",required:!0,value:b.newPassword,onChange:g}),Object(d.jsx)("label",{className:"form-label gold mt-3",htmlFor:"confirmNewPassword",children:"Confirm new password"}),Object(d.jsx)("input",{className:"form-control",name:"confirmNewPassword",type:"password",value:b.confirmNewPassword,onChange:g}),f?Object(d.jsx)("div",{className:"text-center mt-3",children:Object(d.jsx)("span",{children:N})}):Object(d.jsx)("div",{className:"hidden-field mt-3",children:Object(d.jsx)("span",{children:N})}),Object(d.jsx)("div",{className:t?"text-center mt-3":"text-center mt-3 mb-2",children:Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Reset password"})})]})]})}},90:function(e,s,t){}}]);
//# sourceMappingURL=17.91bcef6f.chunk.js.map