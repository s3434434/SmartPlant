{"version":3,"sources":["hooks/settings/settings.jsx"],"names":["Settings","props","getLogin","wideView","useState","email","confirmEmail","emailForm","setEmailForm","phoneNumber","firstName","lastName","detailsForm","setDetailsForm","oldPassword","newPassword","confirmNewPassword","passwordForm","setPasswordForm","emailModifiable","setEmailModifiable","detailsModifiable","setDetailsModifiable","phoneNumberModifiable","setPhoneNumberModifiable","firstNameModifiable","setFirstNameModifiable","lastNameModifiable","setLastNameModifiable","passwordModifiable","setPasswordModifiable","showEmailStatus","setShowEmailStatus","emailStatus","setEmailStatus","showDetailsStatus","setShowDetailsStatus","detailsStatus","setDetailsStatus","showPasswordStatus","setShowPasswordStatus","passwordStatus","setPasswordStatus","useEffect","document","title","login","token","axios","get","headers","Authorization","then","res","settings","data","catch","err","window","location","pathname","handleEmailChange","e","input","target","tempEmailForm","_","cloneDeep","name","value","handleDetailsChange","tempDetailsForm","handlePasswordChange","tempPasswordForm","className","onSubmit","preventDefault","put","reload","errors","response","errorMessage","undefined","Email","ConfirmEmail","setTimeout","htmlFor","type","required","onChange","style","display","gridTemplateColumns","tabIndex","icon","faPen","cursor","onClick","onKeyPress","messages","Phone","FirstName","LastName","PasswordMismatch","PasswordTooShort","ConfirmNewPassword"],"mappings":"uOAOe,SAASA,EAASC,GAC/B,IAAQC,EAAuBD,EAAvBC,SAAUC,EAAaF,EAAbE,SAGlB,EAAkCC,mBAAS,CACvCC,MAAO,GACPC,aAAc,KAFlB,mBAAOC,EAAP,KAAkBC,EAAlB,OAIkCJ,mBAAS,CACvCK,YAAa,GACbC,UAAW,GACXC,SAAU,KAPd,mBAIGC,EAJH,KAIgBC,EAJhB,OASoCT,mBAAS,CACzCU,YAAa,GACbC,YAAa,GACbC,mBAAoB,KAZxB,mBASGC,EATH,KASiBC,EATjB,OAc0Cd,oBAAS,GAdnD,mBAcGe,EAdH,KAcoBC,EAdpB,OAe8ChB,oBAAS,GAfvD,mBAeGiB,EAfH,KAesBC,EAftB,OAgBsDlB,oBAAS,GAhB/D,mBAgBGmB,EAhBH,KAgB0BC,EAhB1B,OAiBkDpB,oBAAS,GAjB3D,mBAiBGqB,EAjBH,KAiBwBC,EAjBxB,OAkBgDtB,oBAAS,GAlBzD,mBAkBGuB,EAlBH,KAkBuBC,EAlBvB,OAmBgDxB,oBAAS,GAnBzD,mBAmBGyB,EAnBH,KAmBuBC,EAnBvB,OAoB0C1B,oBAAS,GApBnD,mBAoBG2B,EApBH,KAoBoBC,EApBpB,OAqBkC5B,mBAAS,KArB3C,mBAqBG6B,EArBH,KAqBgBC,EArBhB,QAsB8C9B,oBAAS,GAtBvD,qBAsBG+B,GAtBH,MAsBsBC,GAtBtB,SAuBsChC,mBAAS,KAvB/C,qBAuBGiC,GAvBH,MAuBkBC,GAvBlB,SAwBgDlC,oBAAS,GAxBzD,qBAwBGmC,GAxBH,MAwBuBC,GAxBvB,SAyBwCpC,mBAAS,KAzBjD,qBAyBGqC,GAzBH,MAyBmBC,GAzBnB,MA8BAC,qBAAU,WACRC,SAASC,MAAQ,uCAEjB,IAAMC,EAAQ5C,IACd,GAAc,OAAV4C,EAAgB,CAClB,IAAQC,EAAUD,EAAVC,MACRC,IACGC,IAAI,iDAAkD,CACrDC,QAAS,CACPC,cAAc,UAAD,OAAYJ,MAG5BK,MAAK,SAACC,GACL,IAAMC,EAAWD,EAAIE,KAErB/C,EAAa,CAAEH,MAAOiD,EAASjD,MAAOC,aAAc,KACpDO,EAAe,CACbJ,YAAa6C,EAAS7C,YACtBC,UAAW4C,EAAS5C,UACpBC,SAAU2C,EAAS3C,cAGtB6C,OAAM,SAACC,GACNC,OAAOC,SAASC,SAAW,YAG/BF,OAAOC,SAASC,SAAW,MAI5B,IAGH,IAAMC,GAAoB,SAACC,GACzB,IAAMC,EAAQD,EAAEE,OACVC,EAAgBC,IAAEC,UAAU5D,GAElC0D,EAAcF,EAAMK,MAAQL,EAAMM,MAElC7D,EAAayD,IAkDTK,GAAsB,SAACR,GAC3B,IAAMC,EAAQD,EAAEE,OACVO,EAAkBL,IAAEC,UAAUvD,GAEpC2D,EAAgBR,EAAMK,MAAQL,EAAMM,MAEpCxD,EAAe0D,IA6CXC,GAAuB,SAACV,GAC5B,IAAMC,EAAQD,EAAEE,OACVS,EAAmBP,IAAEC,UAAUlD,GAErCwD,EAAiBV,EAAMK,MAAQL,EAAMM,MAErCnD,EAAgBuD,IAuDlB,OACE,oCACE,oBAAIC,UAAU,mBAAd,sBAEA,uBACEA,UAAWvE,EAAW,mBAAqB,mBAC3CwE,SAlKoB,SAACb,GACzBA,EAAEc,iBACF1C,EAAe,kBACfF,GAAmB,GAEnB,IAAMc,EAAQ5C,IACd,GAAIK,EAAUF,QAAUE,EAAUD,aAChC4B,EAAe,6BACV,GAAc,OAAVY,EAAgB,CACzB,IAAQC,EAAUD,EAAVC,MACRC,IACG6B,IACC,uDACAtE,EACA,CACE2C,QAAS,CACPC,cAAc,UAAD,OAAYJ,MAI9BK,MAAK,SAACC,GACLK,OAAOC,SAASmB,YAEjBtB,OAAM,SAACC,GACN,IAAMsB,EAAStB,EAAIuB,SAASzB,KAAKwB,OAC7BE,EAAe,6CAEEC,IAAjBH,EAAOI,MACTF,EAAeF,EAAOI,MAAM,QACKD,IAAxBH,EAAOK,eAChBH,EAAeF,EAAOK,aAAa,IAGrClD,EAAe+C,WAGnB/C,EAAe,0BACfmD,YAAW,WACT3B,OAAOC,SAASC,SAAW,MAC1B,MAyHH,UAIGzC,EACC,qCACE,uBAAOuD,UAAU,kBAAkBY,QAAQ,QAA3C,mBAGA,uBACEZ,UAAU,eACVN,KAAK,QACLmB,KAAK,OACLC,UAAQ,EACRnB,MAAO9D,EAAUF,MACjBoF,SAAU5B,KAGZ,uBAAOa,UAAU,uBAAuBY,QAAQ,eAAhD,2BAGA,uBACEZ,UAAU,eACVN,KAAK,eACLmB,KAAK,OACLC,UAAQ,EACRnB,MAAO9D,EAAUD,aACjBmF,SAAU5B,QAId,qCACE,sBACEa,UAAU,MACVgB,MAAO,CAAEC,QAAS,OAAQC,oBAAqB,WAFjD,UAIE,qBAAKlB,UAAU,YAAf,SACE,sBAAMA,UAAU,OAAhB,qBAEF,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CACEA,UAAU,wBACVmB,SAAS,IACTC,KAAMC,IACNL,MAAO,CAAEM,OAAQ,WACjBC,QAAS,WACP7E,GAAmB,IAErB8E,WAAY,WACV9E,GAAmB,WAK3B,qBAAKsD,UAAU,wCAAf,SACE,sBAAMA,UAAU,OAAhB,SAAwBnE,EAAUF,aAIxC,qBAAKqE,UAAW3C,EAAkB,mBAAqB,eAAvD,SACE,+BAAOE,MAET,qBAAKyC,UAAWvD,EAAkB,mBAAqB,eAAvD,SACE,wBACEuD,UAAU,kBACVmB,SAAU1E,EAAkB,IAAM,KAClCoE,KAAK,SAHP,+BAUJ,uBACEb,UAAWvE,EAAW,mBAAqB,mBAC3CwE,SApLsB,SAACb,GAC3BA,EAAEc,iBACFtC,GAAiB,kBACjBF,IAAqB,GAErB,IAAMU,EAAQ5C,IACd,GAAc,OAAV4C,EAAgB,CAClB,IAAQC,EAAUD,EAAVC,MACRC,IACG6B,IAAI,iDAAkDjE,EAAa,CAClEsC,QAAS,CACPC,cAAc,UAAD,OAAYJ,MAG5BK,MAAK,SAACC,GACLK,OAAOC,SAASmB,YAEjBtB,OAAM,SAACC,GACN,IAAMsB,EAAStB,EAAIuB,SAASzB,KAAK4C,SAC7BlB,EAAe,6CAEEC,IAAjBH,EAAOqB,MACTnB,EAAeF,EAAOqB,MAAM,QACElB,IAArBH,EAAOsB,UAChBpB,EAAeF,EAAOsB,UAAU,QACHnB,IAApBH,EAAOuB,WAChBrB,EAAeF,EAAOuB,SAAS,IAGjChE,GAAiB2C,WAGrB3C,GAAiB,0BACjB+C,YAAW,WACT3B,OAAOC,SAASC,SAAW,MAC1B,MA+IH,UAIGrC,EACC,qCACE,uBAAOmD,UAAU,kBAAkBY,QAAQ,cAA3C,mBAGA,uBACEZ,UAAU,eACVN,KAAK,cACLmB,KAAK,OACLlB,MAAOzD,EAAYH,YACnBgF,SAAUnB,QAId,qCACE,sBACEI,UAAU,MACVgB,MAAO,CAAEC,QAAS,OAAQC,oBAAqB,WAFjD,UAIE,qBAAKlB,UAAU,YAAf,SACE,sBAAMA,UAAU,OAAhB,qBAEF,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CACEA,UAAU,wBACVmB,SAAS,IACTC,KAAMC,IACNL,MAAO,CAAEM,OAAQ,WACjBC,QAAS,WACP3E,GAAqB,GACrBE,GAAyB,IAE3B0E,WAAY,WACV5E,GAAqB,GACrBE,GAAyB,WAKjC,qBAAKkD,UAAU,wCAAf,SACE,sBAAMA,UAAU,OAAhB,SAAwB9D,EAAYH,mBAIzCgB,EACC,qCACE,uBAAOiD,UAAU,uBAAuBY,QAAQ,YAAhD,wBAGA,uBACEZ,UAAU,eACVN,KAAK,YACLmB,KAAK,OACLlB,MAAOzD,EAAYF,UACnB+E,SAAUnB,QAId,qCACE,sBACEI,UAAU,WACVgB,MAAO,CAAEC,QAAS,OAAQC,oBAAqB,WAFjD,UAIE,qBAAKlB,UAAU,YAAf,SACE,sBAAMA,UAAU,OAAhB,0BAEF,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CACEA,UAAU,wBACVmB,SAAS,IACTC,KAAMC,IACNL,MAAO,CAAEM,OAAQ,WACjBC,QAAS,WACP3E,GAAqB,GACrBI,GAAuB,IAEzBwE,WAAY,WACV5E,GAAqB,GACrBI,GAAuB,WAK/B,qBAAKgD,UAAU,wCAAf,SACE,sBAAMA,UAAU,OAAhB,SAAwB9D,EAAYF,iBAIzCiB,EACC,qCACE,uBAAO+C,UAAU,uBAAuBY,QAAQ,WAAhD,uBAGA,uBACEZ,UAAU,eACVN,KAAK,WACLmB,KAAK,OACLlB,MAAOzD,EAAYD,SACnB8E,SAAUnB,QAId,qCACE,sBACEI,UAAU,WACVgB,MAAO,CAAEC,QAAS,OAAQC,oBAAqB,WAFjD,UAIE,qBAAKlB,UAAU,YAAf,SACE,sBAAMA,UAAU,OAAhB,yBAEF,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CACEA,UAAU,wBACVmB,SAAS,IACTC,KAAMC,IACNL,MAAO,CAAEM,OAAQ,WACjBC,QAAS,WACP3E,GAAqB,GACrBM,GAAsB,IAExBsE,WAAY,WACV5E,GAAqB,GACrBM,GAAsB,WAK9B,qBAAK8C,UAAU,wCAAf,SACE,sBAAMA,UAAU,OAAhB,SAAwB9D,EAAYD,gBAI1C,qBACE+D,UAAWvC,GAAoB,mBAAqB,eADtD,SAGE,+BAAOE,OAET,qBACEqC,UAAWrD,EAAoB,mBAAqB,eADtD,SAGE,wBACEqD,UAAU,kBACVmB,SAAUxE,EAAoB,IAAM,KACpCkE,KAAK,SAHP,gCAUJ,uBACEb,UAAWvE,EAAW,mBAAqB,mBAC3CwE,SA1RuB,SAACb,GAC5BA,EAAEc,iBACFlC,GAAkB,kBAClBF,IAAsB,GAEtB,IAAMM,EAAQ5C,IACd,GAAIe,EAAaF,cAAgBE,EAAaD,mBAC5C0B,GAAkB,oCACb,GAAc,OAAVI,EAAgB,CACzB,IAAQC,EAAUD,EAAVC,MACRC,IACG6B,IACC,0DACA5D,EACA,CACEiC,QAAS,CACPC,cAAc,UAAD,OAAYJ,MAI9BK,MAAK,SAACC,GACLX,GAAkB,kCAClB2C,YAAW,WACT3B,OAAOC,SAASmB,WACf,QAEJtB,OAAM,SAACC,GACN,IAAMsB,EAAStB,EAAIuB,SAASzB,KAAK4C,SAC7BlB,EAAe,6CAEaC,IAA5BH,EAAOwB,mBACTtB,EAAeF,EAAOwB,iBAAiB,SAETrB,IAA5BH,EAAOyB,iBACTvB,EAAeF,EAAOyB,iBAAiB,QACAtB,IAA9BH,EAAO0B,qBAChBxB,EAAeF,EAAO0B,mBAAmB,IAG3C/D,GAAkBuC,WAGtBvC,GAAkB,0BAClB2C,YAAW,WACT3B,OAAOC,SAASC,SAAW,MAC1B,MA2OH,UAIG/B,EACC,qCACE,uBAAO6C,UAAU,kBAAkBY,QAAQ,cAA3C,0BAGA,uBACEZ,UAAU,eACVN,KAAK,cACLmB,KAAK,WACLC,UAAQ,EACRnB,MAAOpD,EAAaH,YACpB2E,SAAUjB,KAEZ,uBAAOE,UAAU,uBAAuBY,QAAQ,cAAhD,0BAGA,uBACEZ,UAAU,eACVN,KAAK,cACLmB,KAAK,WACLC,UAAQ,EACRnB,MAAOpD,EAAaF,YACpB0E,SAAUjB,KAEZ,uBACEE,UAAU,uBACVY,QAAQ,qBAFV,kCAMA,uBACEZ,UAAU,eACVN,KAAK,qBACLmB,KAAK,WACLC,UAAQ,EACRnB,MAAOpD,EAAaD,mBACpByE,SAAUjB,QAId,qCACE,sBACEE,UAAU,WACVgB,MAAO,CAAEC,QAAS,OAAQC,oBAAqB,WAFjD,UAIE,qBAAKlB,UAAU,YAAf,SACE,sBAAMA,UAAU,OAAhB,wBAEF,qBAAKA,UAAU,WAAf,SACE,cAAC,IAAD,CACEA,UAAU,wBACVmB,SAAS,IACTC,KAAMC,IACNL,MAAO,CAAEM,OAAQ,WACjBC,QAAS,WACPnE,GAAsB,IAExBoE,WAAY,WACVpE,GAAsB,WAK9B,qBAAK4C,UAAU,wCAAf,SACE,sBAAMA,UAAU,OAAhB,mEAIN,qBACEA,UAAWnC,GAAqB,mBAAqB,eADvD,SAGE,+BAAOE,OAET,qBACEiC,UACE7C,EACI1B,EACE,mBACA,wBACF,eANR,SASE,wBACEuE,UAAU,kBACVmB,SAAUhE,EAAqB,IAAM,KACrC0D,KAAK,SAHP,uC","file":"static/js/28.583a1f3f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport \"./settings.css\";\n\nexport default function Settings(props) {\n  const { getLogin, wideView } = props;\n\n  // State variables for the email, account details and password forms, whether or not these forms are modifiable, the statuses of these forms' associated requests, and whether these statuses are being shown.\n  const [emailForm, setEmailForm] = useState({\n      email: \"\",\n      confirmEmail: \"\",\n    }),\n    [detailsForm, setDetailsForm] = useState({\n      phoneNumber: \"\",\n      firstName: \"\",\n      lastName: \"\",\n    }),\n    [passwordForm, setPasswordForm] = useState({\n      oldPassword: \"\",\n      newPassword: \"\",\n      confirmNewPassword: \"\",\n    }),\n    [emailModifiable, setEmailModifiable] = useState(false),\n    [detailsModifiable, setDetailsModifiable] = useState(false),\n    [phoneNumberModifiable, setPhoneNumberModifiable] = useState(false),\n    [firstNameModifiable, setFirstNameModifiable] = useState(false),\n    [lastNameModifiable, setLastNameModifiable] = useState(false),\n    [passwordModifiable, setPasswordModifiable] = useState(false),\n    [showEmailStatus, setShowEmailStatus] = useState(false),\n    [emailStatus, setEmailStatus] = useState(\"-\"),\n    [showDetailsStatus, setShowDetailsStatus] = useState(false),\n    [detailsStatus, setDetailsStatus] = useState(\"-\"),\n    [showPasswordStatus, setShowPasswordStatus] = useState(false),\n    [passwordStatus, setPasswordStatus] = useState(\"-\");\n\n  // useEffect hook that runs a single time when this component loads. Sets the title of the web page appropriately, then performs a check on whether the user is logged in on the UI. If not, the user is returned to the root path.\n  // Otherwise, a GET request is made to the User endpoint of the backend. If this request is unsuccessful, the user is returned to the root path.\n  // Otherwise, the email and account details forms are updated with the response data.\n  useEffect(() => {\n    document.title = \"Settings | Demeter - The plant meter\";\n\n    const login = getLogin();\n    if (login !== null) {\n      const { token } = login;\n      axios\n        .get(\"https://smart-plant.azurewebsites.net/api/User\", {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((res) => {\n          const settings = res.data;\n\n          setEmailForm({ email: settings.email, confirmEmail: \"\" });\n          setDetailsForm({\n            phoneNumber: settings.phoneNumber,\n            firstName: settings.firstName,\n            lastName: settings.lastName,\n          });\n        })\n        .catch((err) => {\n          window.location.pathname = \"/\";\n        });\n    } else {\n      window.location.pathname = \"/\";\n    }\n\n    // eslint-disable-next-line\n  }, []);\n\n  // Updates the emailForm state variable with the appropriate input field whenever a email form input field is updated.\n  const handleEmailChange = (e) => {\n    const input = e.target;\n    const tempEmailForm = _.cloneDeep(emailForm);\n\n    tempEmailForm[input.name] = input.value;\n\n    setEmailForm(tempEmailForm);\n  };\n\n  // Handles the submit event of the email form. The email request status is set appropriately, then a check is performed on whether the user is logged in. If not, an appropriate error message is shown and the user is returned to the root path.\n  // Otherwise, a check is performed on whether the form's 'email' and 'confirmEmail' fields match. If not, an appropriate error message is shown.\n  // Otherwise, a PUT request is made to the backend change email endpoint. If this request is successful, the page is reloaded. Otherwise, an appropriate error message is shown.\n  const handleEmailSubmit = (e) => {\n    e.preventDefault();\n    setEmailStatus(\"Please wait...\");\n    setShowEmailStatus(true);\n\n    const login = getLogin();\n    if (emailForm.email !== emailForm.confirmEmail) {\n      setEmailStatus(\"Emails do not match.\");\n    } else if (login !== null) {\n      const { token } = login;\n      axios\n        .put(\n          \"https://smart-plant.azurewebsites.net/api/User/Email\",\n          emailForm,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        )\n        .then((res) => {\n          window.location.reload();\n        })\n        .catch((err) => {\n          const errors = err.response.data.errors;\n          let errorMessage = \"Server error. Please try again later.\";\n\n          if (errors.Email !== undefined) {\n            errorMessage = errors.Email[0];\n          } else if (errors.ConfirmEmail !== undefined) {\n            errorMessage = errors.ConfirmEmail[0];\n          }\n\n          setEmailStatus(errorMessage);\n        });\n    } else {\n      setEmailStatus(\"You are not logged in.\");\n      setTimeout(() => {\n        window.location.pathname = \"/\";\n      }, 500);\n    }\n  };\n\n  // Updates the detailsForm state variable with the appropriate input field whenever an account details form input field is updated.\n  const handleDetailsChange = (e) => {\n    const input = e.target;\n    const tempDetailsForm = _.cloneDeep(detailsForm);\n\n    tempDetailsForm[input.name] = input.value;\n\n    setDetailsForm(tempDetailsForm);\n  };\n\n  // Handles the submit event of the account details form. The details form request status is set appropriately, then a check is performed on whether the user is logged in. If not, an appropriate error message is shown and the user is returned to the root path.\n  // Otherwise, a PUT request is made to the backend change account details endpoint. If this request is successful, the page is reloaded. Otherwise, an appropriate error message is shown.\n  const handleDetailsSubmit = (e) => {\n    e.preventDefault();\n    setDetailsStatus(\"Please wait...\");\n    setShowDetailsStatus(true);\n\n    const login = getLogin();\n    if (login !== null) {\n      const { token } = login;\n      axios\n        .put(\"https://smart-plant.azurewebsites.net/api/User\", detailsForm, {\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        })\n        .then((res) => {\n          window.location.reload();\n        })\n        .catch((err) => {\n          const errors = err.response.data.messages;\n          let errorMessage = \"Server error. Please try again later.\";\n\n          if (errors.Phone !== undefined) {\n            errorMessage = errors.Phone[0];\n          } else if (errors.FirstName !== undefined) {\n            errorMessage = errors.FirstName[0];\n          } else if (errors.LastName !== undefined) {\n            errorMessage = errors.LastName[0];\n          }\n\n          setDetailsStatus(errorMessage);\n        });\n    } else {\n      setDetailsStatus(\"You are not logged in.\");\n      setTimeout(() => {\n        window.location.pathname = \"/\";\n      }, 500);\n    }\n  };\n\n  // Updates the passwordForm state variable with the appropriate input field whenever a password form input field is updated.\n  const handlePasswordChange = (e) => {\n    const input = e.target;\n    const tempPasswordForm = _.cloneDeep(passwordForm);\n\n    tempPasswordForm[input.name] = input.value;\n\n    setPasswordForm(tempPasswordForm);\n  };\n\n  // Handles the submit event of the password form. The password form request status is set appropriately, then a check is performed on whether the user is logged in. If not, an appropriate error message is shown and the user is returned to the root path.\n  // Otherwise, a check is performed on whether the form's 'newPassword' and 'confirmNewPassword' fields match. If not, an appropriate error message is shown.\n  // Otherwise, a PUT request is made to the backend change password endpoint. If this request is successful, an appropriate message is shown and the page is reloaded. Otherwise, an appropriate error message is shown.\n  const handlePasswordSubmit = (e) => {\n    e.preventDefault();\n    setPasswordStatus(\"Please wait...\");\n    setShowPasswordStatus(true);\n\n    const login = getLogin();\n    if (passwordForm.newPassword !== passwordForm.confirmNewPassword) {\n      setPasswordStatus(\"New passwords do not match.\");\n    } else if (login !== null) {\n      const { token } = login;\n      axios\n        .put(\n          \"https://smart-plant.azurewebsites.net/api/User/Password\",\n          passwordForm,\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        )\n        .then((res) => {\n          setPasswordStatus(\"Password updated successfully.\");\n          setTimeout(() => {\n            window.location.reload();\n          }, 1000);\n        })\n        .catch((err) => {\n          const errors = err.response.data.messages;\n          let errorMessage = \"Server error. Please try again later.\";\n\n          if (errors.PasswordMismatch !== undefined) {\n            errorMessage = errors.PasswordMismatch[0];\n          }\n          if (errors.PasswordTooShort !== undefined) {\n            errorMessage = errors.PasswordTooShort[0];\n          } else if (errors.ConfirmNewPassword !== undefined) {\n            errorMessage = errors.ConfirmNewPassword[0];\n          }\n\n          setPasswordStatus(errorMessage);\n        });\n    } else {\n      setPasswordStatus(\"You are not logged in.\");\n      setTimeout(() => {\n        window.location.pathname = \"/\";\n      }, 500);\n    }\n  };\n\n  return (\n    <section>\n      <h1 className=\"text-center gold\">Settings</h1>\n\n      <form\n        className={wideView ? \"w-25 m-auto mt-4\" : \"m-auto mt-4 px-2\"}\n        onSubmit={handleEmailSubmit}\n      >\n        {emailModifiable ? (\n          <>\n            <label className=\"form-label gold\" htmlFor=\"email\">\n              Email\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"email\"\n              type=\"text\"\n              required\n              value={emailForm.email}\n              onChange={handleEmailChange}\n            />\n\n            <label className=\"form-label gold mt-2\" htmlFor=\"confirmEmail\">\n              Confirm email\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"confirmEmail\"\n              type=\"text\"\n              required\n              value={emailForm.confirmEmail}\n              onChange={handleEmailChange}\n            />\n          </>\n        ) : (\n          <>\n            <div\n              className=\"p-0\"\n              style={{ display: \"grid\", gridTemplateColumns: \"50% 50%\" }}\n            >\n              <div className=\"text-left\">\n                <span className=\"gold\">Email</span>\n              </div>\n              <div className=\"text-end\">\n                <FontAwesomeIcon\n                  className=\"gold light-gold-hover\"\n                  tabIndex=\"0\"\n                  icon={faPen}\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => {\n                    setEmailModifiable(true);\n                  }}\n                  onKeyPress={() => {\n                    setEmailModifiable(true);\n                  }}\n                ></FontAwesomeIcon>\n              </div>\n            </div>\n            <div className=\"mt-1 py-1 overflow-hidden gold-border\">\n              <span className=\"ms-1\">{emailForm.email}</span>\n            </div>\n          </>\n        )}\n        <div className={showEmailStatus ? \"text-center mt-3\" : \"hidden-field\"}>\n          <span>{emailStatus}</span>\n        </div>\n        <div className={emailModifiable ? \"text-center mt-3\" : \"hidden-field\"}>\n          <button\n            className=\"btn btn-primary\"\n            tabIndex={emailModifiable ? \"0\" : \"-1\"}\n            type=\"submit\"\n          >\n            Apply change\n          </button>\n        </div>\n      </form>\n\n      <form\n        className={wideView ? \"w-25 m-auto mt-5\" : \"m-auto mt-5 px-2\"}\n        onSubmit={handleDetailsSubmit}\n      >\n        {phoneNumberModifiable ? (\n          <>\n            <label className=\"form-label gold\" htmlFor=\"phoneNumber\">\n              Phone\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"phoneNumber\"\n              type=\"text\"\n              value={detailsForm.phoneNumber}\n              onChange={handleDetailsChange}\n            />\n          </>\n        ) : (\n          <>\n            <div\n              className=\"p-0\"\n              style={{ display: \"grid\", gridTemplateColumns: \"50% 50%\" }}\n            >\n              <div className=\"text-left\">\n                <span className=\"gold\">Phone</span>\n              </div>\n              <div className=\"text-end\">\n                <FontAwesomeIcon\n                  className=\"gold light-gold-hover\"\n                  tabIndex=\"0\"\n                  icon={faPen}\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => {\n                    setDetailsModifiable(true);\n                    setPhoneNumberModifiable(true);\n                  }}\n                  onKeyPress={() => {\n                    setDetailsModifiable(true);\n                    setPhoneNumberModifiable(true);\n                  }}\n                ></FontAwesomeIcon>\n              </div>\n            </div>\n            <div className=\"mt-1 py-1 overflow-hidden gold-border\">\n              <span className=\"ms-1\">{detailsForm.phoneNumber}</span>\n            </div>\n          </>\n        )}\n        {firstNameModifiable ? (\n          <>\n            <label className=\"form-label gold mt-2\" htmlFor=\"firstName\">\n              First name\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"firstName\"\n              type=\"text\"\n              value={detailsForm.firstName}\n              onChange={handleDetailsChange}\n            />\n          </>\n        ) : (\n          <>\n            <div\n              className=\"mt-2 p-0\"\n              style={{ display: \"grid\", gridTemplateColumns: \"50% 50%\" }}\n            >\n              <div className=\"text-left\">\n                <span className=\"gold\">First name</span>\n              </div>\n              <div className=\"text-end\">\n                <FontAwesomeIcon\n                  className=\"gold light-gold-hover\"\n                  tabIndex=\"0\"\n                  icon={faPen}\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => {\n                    setDetailsModifiable(true);\n                    setFirstNameModifiable(true);\n                  }}\n                  onKeyPress={() => {\n                    setDetailsModifiable(true);\n                    setFirstNameModifiable(true);\n                  }}\n                ></FontAwesomeIcon>\n              </div>\n            </div>\n            <div className=\"mt-1 py-1 overflow-hidden gold-border\">\n              <span className=\"ms-1\">{detailsForm.firstName}</span>\n            </div>\n          </>\n        )}\n        {lastNameModifiable ? (\n          <>\n            <label className=\"form-label gold mt-2\" htmlFor=\"lastName\">\n              Last name\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"lastName\"\n              type=\"text\"\n              value={detailsForm.lastName}\n              onChange={handleDetailsChange}\n            />\n          </>\n        ) : (\n          <>\n            <div\n              className=\"mt-2 p-0\"\n              style={{ display: \"grid\", gridTemplateColumns: \"50% 50%\" }}\n            >\n              <div className=\"text-left\">\n                <span className=\"gold\">Last name</span>\n              </div>\n              <div className=\"text-end\">\n                <FontAwesomeIcon\n                  className=\"gold light-gold-hover\"\n                  tabIndex=\"0\"\n                  icon={faPen}\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => {\n                    setDetailsModifiable(true);\n                    setLastNameModifiable(true);\n                  }}\n                  onKeyPress={() => {\n                    setDetailsModifiable(true);\n                    setLastNameModifiable(true);\n                  }}\n                ></FontAwesomeIcon>\n              </div>\n            </div>\n            <div className=\"mt-1 py-1 overflow-hidden gold-border\">\n              <span className=\"ms-1\">{detailsForm.lastName}</span>\n            </div>\n          </>\n        )}\n        <div\n          className={showDetailsStatus ? \"text-center mt-3\" : \"hidden-field\"}\n        >\n          <span>{detailsStatus}</span>\n        </div>\n        <div\n          className={detailsModifiable ? \"text-center mt-3\" : \"hidden-field\"}\n        >\n          <button\n            className=\"btn btn-primary\"\n            tabIndex={detailsModifiable ? \"0\" : \"-1\"}\n            type=\"submit\"\n          >\n            Apply changes\n          </button>\n        </div>\n      </form>\n\n      <form\n        className={wideView ? \"w-25 m-auto mt-5\" : \"m-auto mt-5 px-2\"}\n        onSubmit={handlePasswordSubmit}\n      >\n        {passwordModifiable ? (\n          <>\n            <label className=\"form-label gold\" htmlFor=\"oldPassword\">\n              Old password\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"oldPassword\"\n              type=\"password\"\n              required\n              value={passwordForm.oldPassword}\n              onChange={handlePasswordChange}\n            />\n            <label className=\"form-label gold mt-2\" htmlFor=\"newPassword\">\n              New password\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"newPassword\"\n              type=\"password\"\n              required\n              value={passwordForm.newPassword}\n              onChange={handlePasswordChange}\n            />\n            <label\n              className=\"form-label gold mt-2\"\n              htmlFor=\"confirmNewPassword\"\n            >\n              Confirm new password\n            </label>\n            <input\n              className=\"form-control\"\n              name=\"confirmNewPassword\"\n              type=\"password\"\n              required\n              value={passwordForm.confirmNewPassword}\n              onChange={handlePasswordChange}\n            />\n          </>\n        ) : (\n          <>\n            <div\n              className=\"mt-2 p-0\"\n              style={{ display: \"grid\", gridTemplateColumns: \"50% 50%\" }}\n            >\n              <div className=\"text-left\">\n                <span className=\"gold\">Password</span>\n              </div>\n              <div className=\"text-end\">\n                <FontAwesomeIcon\n                  className=\"gold light-gold-hover\"\n                  tabIndex=\"0\"\n                  icon={faPen}\n                  style={{ cursor: \"pointer\" }}\n                  onClick={() => {\n                    setPasswordModifiable(true);\n                  }}\n                  onKeyPress={() => {\n                    setPasswordModifiable(true);\n                  }}\n                ></FontAwesomeIcon>\n              </div>\n            </div>\n            <div className=\"mt-1 py-1 overflow-hidden gold-border\">\n              <span className=\"ms-1\">••••••••</span>\n            </div>\n          </>\n        )}\n        <div\n          className={showPasswordStatus ? \"text-center mt-3\" : \"hidden-field\"}\n        >\n          <span>{passwordStatus}</span>\n        </div>\n        <div\n          className={\n            passwordModifiable\n              ? wideView\n                ? \"text-center mt-3\"\n                : \"text-center mt-3 mb-2\"\n              : \"hidden-field\"\n          }\n        >\n          <button\n            className=\"btn btn-primary\"\n            tabIndex={passwordModifiable ? \"0\" : \"-1\"}\n            type=\"submit\"\n          >\n            Change password\n          </button>\n        </div>\n      </form>\n    </section>\n  );\n}\n"],"sourceRoot":""}